# 관계형 데이터베이스(RDBMS)

---

<aside>
🚶‍♂️ **관계형 데이터베이스**
(Relational DataBase Management System)

- 데이터베이스를 테이블이라는 형식으로 쓸 수 있도록 만들어 놓은 데이터베이스이다.
- 현재 가장 많이 사용되고 있는 데이터베이스의 한 종류이다.
- 테이블 여러 개 연결해서 왔다 갔다 하며 정보를 서로 공유하게 해준다.
</aside>

### 무엇인가

---

- 서로 관련된 데이터 장소에 대한 접근을 하게 해주는 것이다
- 데이터 테이블로 이루어져 있으며, 테이블은 행, 열의 정보를 가지고 있다
- 테이블 간의 공통 열 때문에 관계형 데이터베이스는 두 테이블 간에 관계를 생성할 수 있다

### 용어

<aside>
📖 **관계형 데이터베이스의 용어**

1. **열(column) = 필드 = 속성**

각각의 열은 유일한 이름을 가지고 있고, 자신만의 타입을 가지고 있다

1. **행(row) = 튜플(tuple) = 레코드(record)**

관계된 데이터의 묶음

한 테이블의 모든 행은 같은 수의 열을 가지고 있다

1. **값(value)**

테이블은 각각의 행과 열을 가지고 있다

값은 열의 타입에 맞는 값이어야 한다

1. **키(key, 고유 값):** 

연결 시키면 다른 테이블에 그 고유 값이 복사 된다 (다른 키에서 가져오면 외래키)

**종류**

-**후보키(Candidate Key)**: 튜플을 유일하게식별하기 위해 사용되는 속성들의 부분집합, 구별하는데 불필요한 필드는 제외하고 최소한의 필드만으로 구성

-**기본키(Primary Key)**: 후보 키 중에서 튜플을 식별할 수 있는 필드의 집합

-**대체키(Alternate Key)**: 후보키가 둘 이상일때 기본키를 제외한 나머지 후보키

-**슈퍼키(Super Key)**: 아무런 제약 없이 튜플들을 식별할 수 있는 필드의 집합

-**외래키(Foregin Key)**: 다른 테이블의 기본키를 참조하는 필드 집합

1. **관계(relationship)**

테이블 간의 관계는 관계를 맺는 테이블의 수에 따라 달라진다 

- 1:1 양방향- 양쪽이 서로와 단 하나의 관계를 가지는 것 (ex. 일처 일부 제)
- 1:N 양방향(일대다)- 유저 한 명이 여러 개의 연결을 할 수 있는 것(ex.부모 자식 관계)
- N:M 양방향(다대다)- 양쪽 모두 여러 개의 관계를 가질 수 있는 것(ex 고객 - 상품)
</aside>

### 장단점

<aside>
👍 **장점**

- 정규화를 통해 불필요한 데이터를  제거해 중복을 최소화 한다
- 여러 사용자가 동시에 데이터를 운영하고 엑세스(접근) 할 수 있다
- 간편하게 전체 데이터베이스 구조를 변경 할 수 있다
- 데이터의 분류, 정렬, 탐색 속도가 빠르다
</aside>

<aside>
👎 **단점**

- 기존의 작성된 스키마(데이터가 구조화되는 방식)를 수정하기 어렵다
- 대량의 데이터를 다루는데 비효율적이다
- 데이터 처리에 대한 부하 발생 시 처리가 어려움
- 성능 향상에 높은 비용
</aside>

### 트랜잭션(Transaction)

데이터베이스의 상태를 변화 시키기 위해 수행하는 작업의 범위

SQL을 이용하여 데이터베이스에 접근하는 것

<aside>
🚶‍♂️ **상태**

**Active(활동)**- 트랜잭션이 실행 중인 상태

**Failed(실패)**- 트랜잭션 실행에 오류가 발생하여 중단된 상태

**Aborted(철회)**- 트랜잭션이 비정상적으로 종료되어 Rollback 연산(해당 트랜잭션을 재 시작하거나 폐기)을 수행한 상태

**Partially Committed(부분 완료)**- 트랜잭션의 마지막 연산까지 실행했지만, Committed연산이 실행되기 직전의 상태

**Committed(완료)**- 트랜잭션이 성공적으로 종료되어 채 Commit연산을 실행한 후의 상태

</aside>

<aside>
🧗 **특징**

**원자성(Atomicity)**- 트랜잭션이 모두DB에 반영되거나, 전혀 반영되지 않아야 한다.

**일관성(Consistency)**- 트랜잭션의 작업 처리 결과는 항상 일관성 있어야 한다.

**독립성(Isolation)**- 하나의 트랜잭션은 다른 트랜잭션에 끼어들 수 없고, 각각의 트랜잭션은 독립적이다.

**지속성(Durability)**- 트랜잭션이 성공적으로 완료되었으면, 결과는 영구적으로 반영되어야 한다.

</aside>

<aside>
🧩 **Commit**- 하나의 트랜잭션이 **성공적으로 끝나** 데이터베이스가 일관성있는 상태에 있음을 의미. 완전 저장(작업 완료)

**Rollback**- 하나의 트랜잭션 처리가 **비정상적으로 종료** 되었을 떄의 상태를 의미(트랜잭션의 원자성이 깨진 경우) Rollback이 이뤄지면 다시 실행 또는 부분적으로 변경된 결과를 취소할 수 있다.

</aside>